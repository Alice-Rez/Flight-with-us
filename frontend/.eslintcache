[{"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/index.jsx":"1","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/App.jsx":"2","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/context.jsx":"3","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/Footer.jsx":"4","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/Header.jsx":"5","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MainResults.jsx":"6","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/Main.jsx":"7","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/SidebarOffers.jsx":"8","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/SidebarFilter.jsx":"9","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MsgNoResults.jsx":"10","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MsgOutOfService.jsx":"11","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MainInfo.jsx":"12","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/SidebarOffersCards.jsx":"13","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MainResultsCards.jsx":"14"},{"size":227,"mtime":1607447182036,"results":"15","hashOfConfig":"16"},{"size":2566,"mtime":1610630438246,"results":"17","hashOfConfig":"16"},{"size":109,"mtime":1607447182036,"results":"18","hashOfConfig":"16"},{"size":322,"mtime":1609490200522,"results":"19","hashOfConfig":"16"},{"size":5592,"mtime":1610629814322,"results":"20","hashOfConfig":"16"},{"size":3081,"mtime":1610629551118,"results":"21","hashOfConfig":"16"},{"size":1967,"mtime":1610629609214,"results":"22","hashOfConfig":"16"},{"size":1956,"mtime":1610629535074,"results":"23","hashOfConfig":"16"},{"size":5568,"mtime":1610629369673,"results":"24","hashOfConfig":"16"},{"size":385,"mtime":1610629426917,"results":"25","hashOfConfig":"16"},{"size":359,"mtime":1610629405229,"results":"26","hashOfConfig":"16"},{"size":1006,"mtime":1610629576862,"results":"27","hashOfConfig":"16"},{"size":839,"mtime":1610629321357,"results":"28","hashOfConfig":"16"},{"size":1086,"mtime":1610630534751,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1cufult",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/index.jsx",[],["63","64"],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/App.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/context.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/Footer.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/Header.jsx",["65","66"],"import React, { useContext, useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport appContext from \"../context\";\nimport {\n  Button,\n  Col,\n  FormControl,\n  InputGroup,\n  Row,\n  Spinner,\n  Form,\n} from \"react-bootstrap\";\nimport \"./Header.css\";\nimport logo from \"../assets/img/logo.svg\";\n\nfunction Header() {\n  const { search, setSearch, getResults, setOutOfService, cleanFilter, setCleanFilter } = useContext(\n    appContext\n  );\n\n  const [cities, setCities] = useState([]);\n\n  const getValue = (e) => {\n    setSearch((prevSearch) => {\n      setCleanFilter(!cleanFilter);\n      return { ...prevSearch, [e.target.name]: e.target.value };\n     \n    });\n  };\n  const getDateValue = (e) => {\n    setSearch((prevSearch) => {\n      let date = e.target.value.split(\"-\").reverse().join(\"-\").replaceAll(\"-\", \".\");\n      return { ...prevSearch, [e.target.name]: date };\n    });\n  };\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      url: \"http://localhost:3500/flights/get/cities\",\n    })\n      .then((res) => {\n        let citiesSorted = res.data.cities.sort(function (a, b) {\n          var keyA = a.cityName.trim();\n          var keyB = b.cityName.trim();\n          if (keyA < keyB) return -1;\n          if (keyA > keyB) return 1;\n          return 0;\n        });\n        console.log(citiesSorted);\n        setCities(citiesSorted);\n      })\n      .catch((err) => {\n        console.log(err);\n        setOutOfService(true);\n      });\n  }, []);\n\n  return (\n    <>\n      {/* <Spinner animation=\"border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n            </Spinner> */}\n      <header className=\"bgHead p-5 container-fluid\">\n        <h1 className=\"mb-5\">\n          <span className=\"gradient\">Fly with us</span>{\" \"}\n          <img src={logo} alt=\"\" />\n        </h1>\n        <div className=\"test\">\n          <Row className=\"m-2 p-2 justify-content-md-center\">\n            <Col xs md=\"4\">\n              <Form className=\"mb-3 \">\n                <Form.Group\n                  controlId=\"exampleForm.SelectCustom\"\n                  className=\"border border-dark\"\n                >\n                  <Form.Control\n                    as=\"select\"\n                    custom\n                    name=\"departure\"\n                    onChange={getValue}\n                  >\n                    <option value=\"\">DEPARTURE</option>\n                    {cities.map((city) => (\n                      <option value={city.cityId} key={`dep-${city.cityName}`}>\n                        {city.cityName.trim().substr(0, 1).toUpperCase() +\n                          city.cityName\n                            .trim()\n                            .substr(1, city.cityName.length - 1)}\n                      </option>\n                    ))}\n                  </Form.Control>\n                </Form.Group>\n              </Form>\n            </Col>\n            <Col md=\"auto\">\n              <p className=\"justify-content-center\">&#8826; &#8827;</p>\n            </Col>\n            <Col xs md=\"4\">\n              <Form className=\"mb-3 \">\n                <Form.Group\n                  controlId=\"exampleForm.SelectCustom\"\n                  className=\"border border-dark\"\n                >\n                  <Form.Control\n                    as=\"select\"\n                    custom\n                    name=\"destination\"\n                    onChange={getValue}\n                  >\n                    <option value=\"\">DESTINATION</option>\n                    {cities.map((city) => {\n                      if (city.cityId !== +search.departure) {\n                        return (\n                          <option\n                            value={city.cityId}\n                            key={`dest-${city.cityName}`}\n                          >\n                            {city.cityName.trim().substr(0, 1).toUpperCase() +\n                              city.cityName\n                                .trim()\n                                .substr(1, city.cityName.length - 1)}\n                          </option>\n                        );\n                      }\n                      return null;\n                    })}\n                  </Form.Control>\n                </Form.Group>\n              </Form>\n            </Col>\n          </Row>\n          <Row className=\"m-2 p-2 justify-content-md-center\">\n            <Col xs sm=\"2\">\n              <InputGroup className=\"mb-3\">\n                <FormControl\n                  type=\"date\"\n                  placeholder=\"From\"\n                  aria-label=\"from which date\"\n                  size=\"sm\"\n                  className=\"border border-dark\"\n                  name=\"dateFrom\"\n                  onChange={getDateValue}\n                />\n              </InputGroup>\n            </Col>\n            <Col md=\"1\"></Col>\n            <Col xs sm=\"2\">\n              <InputGroup>\n                <FormControl\n                  type=\"date\"\n                  placeholder=\"to\"\n                  aria-label=\"until when\"\n                  size=\"sm\"\n                  className=\"border border-dark\"\n                  name=\"dateTo\"\n                  onChange={getDateValue}\n                />\n              </InputGroup>\n            </Col>\n          </Row>\n          <Row className=\"justify-content-center\">\n            <Button\n              type=\"submit\"\n              value=\"Submit\"\n              size=\"md\"\n              className=\"justify-content-center\"\n              onClick={getResults}\n            >\n              Search\n            </Button>\n          </Row>\n        </div>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MainResults.jsx",["67","68"],"import React, { useContext, useEffect } from \"react\";\nimport MainResultsCards from \"./MainResultsCards\";\nimport appContext from \"../context\";\nimport \"./MainResults.css\";\nimport { FaRegCalendarAlt } from \"react-icons/fa\";\n\nfunction MainResults() {\n  const {\n    results,\n    filter,\n    resultsToBeFiltered,\n    setResultsToBeFiltered,\n    search,\n  } = useContext(appContext);\n\n  useEffect(() => {\n    console.log(\"useEffect runned\");\n    // setResultsToBeFiltered(results);\n    let filteredResults = { ...results };\n    console.log(filter, results, filteredResults);\n    console.log(filter.price.from, filter.price.to);\n    let filteredGoFlights = filteredResults.goFlights.filter(function (item) {\n      return (\n        item[\"price\"] >= parseInt(filter.price.from) &&\n        item[\"price\"] <= parseInt(filter.price.to)\n      );\n    });\n    let filteredBackFlights = filteredResults.backFlights.filter(function (\n      item\n    ) {\n      return (\n        item[\"price\"] >= parseInt(filter.price.from) &&\n        item[\"price\"] <= parseInt(filter.price.to)\n      );\n    });\n\n    console.log(filteredGoFlights, filteredBackFlights);\n\n    //filter based of specific selected company\n    if (filter.selectedComp.length) {\n      let filteredGoFlights2 = [];\n      let filteredBackFlights2 = [];\n      filter.selectedComp.map((company) => {\n        //map throught goflights\n        filteredGoFlights.forEach((elem) => {\n          if (elem.companyName === company) {\n            return filteredGoFlights2.push(elem);\n          }\n        });\n\n        //map throught backFlights\n        filteredBackFlights.forEach((elem) => {\n          if (elem.companyName === company) {\n            return filteredBackFlights2.push(elem);\n          }\n        });\n      });\n      filteredResults = {\n        goFlights: filteredGoFlights2,\n        backFlights: filteredBackFlights2,\n      };\n    } else {\n      filteredResults = {\n        goFlights: filteredGoFlights,\n        backFlights: filteredBackFlights,\n      };\n    }\n    setResultsToBeFiltered(filteredResults);\n    filteredResults = {};\n  }, [filter]);\n\n  return (\n    <React.Fragment>\n      <section className=\"flights\">\n        <h2>Departing flights</h2>\n        <h5 className=\"date\">\n          <FaRegCalendarAlt /> {search.dateFrom}\n        </h5>\n        {resultsToBeFiltered.goFlights.map((flight, index) => (\n          <MainResultsCards key={index} flight={flight} />\n        ))}\n        {resultsToBeFiltered.goFlights.length ? null : (\n          <h5 className=\"noFlights\">No flights available...</h5>\n        )}\n      </section>\n\n      <section className=\"flights\">\n        <h2>Returning flights</h2>\n        <h5 className=\"date\">\n          <FaRegCalendarAlt /> {search.dateTo}\n        </h5>\n        {resultsToBeFiltered.backFlights.map((flight, index) => (\n          <MainResultsCards  key={index} flight={flight} />\n        ))}\n        {resultsToBeFiltered.backFlights.length ? null : (\n          <h5 className=\"noFlights\">No flights available...</h5>\n        )}\n      </section>\n    </React.Fragment>\n  );\n}\n\nexport default MainResults;\n","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/Main.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/SidebarOffers.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/SidebarFilter.jsx",["69","70","71","72","73"],"import React, { useContext, useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport appContext from \"../context\";\nimport \"./SidebarFilter.css\";\n\nexport default function SidebarFilter() {\n  const { setFilter, setOutOfService,  cleanFilter, setResultsToBeFiltered, resultsToBeFiltered} = useContext(appContext);\n  const [setStops] = useState({});\n  const [price, setPrice] = useState({ from: 0, to: 5000 });\n  const [selectedComp, setSelectedComp] = useState([]);\n  const [companies, setCompanies] = useState([]);\n\n  //useEffect for companies -> for the Filter component\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      url: \"http://localhost:3500/flights/get/companies\",\n    })\n      .then((res) => {\n        let companiesSorted = res.data.companies.sort(function (a, b) {\n          var keyA = a.companyName.trim();\n          var keyB = b.companyName.trim();\n          if (keyA < keyB) return -1;\n          if (keyA > keyB) return 1;\n          return 0;\n        });\n        setCompanies(companiesSorted);\n      })\n      .catch((err) => {\n        console.log(err);\n        setOutOfService(true);\n      });\n  }, []);\n\n  useEffect(() => {\n    setFilter({ price, selectedComp });\n  }, [price, selectedComp]);\n\n  useEffect(()=>{\n    //why is it not working?\n    setResultsToBeFiltered({\n      goFlights: [],\n      backFlights: [],\n    });\n    setPrice({ from: 0, to: 5000 });\n    setSelectedComp([]);\n    document.getElementsByClassName(\"filter-form\")[0].reset();\n  }, [cleanFilter]);\n\n  return (\n    <form className=\"filter-form\">\n      <section className=\"filter-block\">\n        {/* STOPS */}\n        {/* <article className=\"filter filter-stops\">\n          <h6 className=\"filter-titles\">Stops</h6>\n          <div className=\"list-stops\">\n            <div className=\"form-check\">\n              <input\n                className=\"form-check-input\"\n                id=\"noStop\"\n                type=\"checkbox\"\n                onClick={() => {\n                  setStops(0);\n                }}\n              />\n              <label className=\"form-check-label\" htmlFor=\"noStop\">\n                Non-stop\n              </label>\n            </div>\n            <div className=\"form-check\">\n              <input\n                className=\"form-check-input\"\n                id=\"1Stop\"\n                type=\"checkbox\"\n                onClick={() => {\n                  setStops(1);\n                }}\n              />\n              <label className=\"form-check-label\" htmlFor=\"1Stop\">\n                1 stop\n              </label>\n            </div>\n            <div className=\"form-check\">\n              <input\n                className=\"form-check-input\"\n                id=\"moreStops\"\n                type=\"checkbox\"\n                onClick={() => {\n                  setStops(2);\n                }}\n              />\n              <label className=\"form-check-label\" htmlFor=\"moreStops\">\n                2+ stops\n              </label>\n            </div>\n          </div>\n        </article> */}\n        {/* PRICE */}\n        <article className=\"filter filter-price\">\n          <h6 className=\"filter-titles\">Price</h6>\n          <div className=\"price-range\">\n            <div className=\"priceInput\">\n              <label>From </label>\n\n              <input\n                type=\"number\"\n                onChange={(e) => {\n                  e.preventDefault();\n                  setPrice({ ...price, from: +e.target.value });\n                }}\n              />\n            </div>\n            <div className=\"priceInput\">\n              <label>To </label>\n              <input\n                type=\"number\"\n                onChange={(e) => {\n                  e.preventDefault();\n                  let value;\n                  if (e.target.value === \"\") {\n                    value = 50000;\n                  } else {\n                    value = +e.target.value;\n                  }\n                  setPrice({ ...price, to: value });\n                }}\n              />\n            </div>\n          </div>\n        </article>\n        {/* COMPANIES */}\n        <article className=\"filter filter-companies\">\n          <h6 className=\"filter-titles\">Airlines</h6>\n          <div className=\"list-companies\">\n            {companies.map((companyName, index) => {\n              return (\n                <div key={index}>\n                  <input\n                    className=\"form-check-input\"\n                    id={companyName.companyName}\n                    type=\"checkbox\"\n                    onChange={(e) => {\n                      let isChecked = document.getElementById(\n                        `${companyName.companyName}`\n                      ).checked;\n                      if (isChecked) {\n                        setSelectedComp([...selectedComp, e.target.id]);\n                      } else {\n                        setSelectedComp(\n                          selectedComp.filter((item) => item !== e.target.id)\n                        );\n                      }\n                    }}\n                  />\n                  <label\n                    className=\"form-check-label\"\n                    htmlFor={companyName.companyName}\n                  >\n                    {companyName.companyName.substr(0, 1).toUpperCase() +\n                      companyName.companyName.substr(\n                        1,\n                        companyName.companyName.length - 1\n                      )}\n                  </label>\n                </div>\n              );\n            })}\n          </div>\n        </article>\n      </section>\n    </form>\n  );\n}\n","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MsgNoResults.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MsgOutOfService.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MainInfo.jsx",["74"],"import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"./MainInfo.css\";\nimport covid from \"../assets/img/covid.png\";\nimport requirement from \"../assets/img/airplane.jpeg\";\nimport about from \"../assets/img/about.png\";\nimport terms from \"../assets/img/terms.jpg\";\n\nexport default function MainInfo(props) {\n  const { article } = props;\n  let picture;\n\n  const choosePicture = (image) => {\n    switch (image) {\n      case \"covid\":\n        picture = covid;\n        break;\n      case \"requirements\":\n        picture = requirement;\n        break;\n      case \"about\":\n        picture = about;\n        break;\n      default:\n        picture = terms;\n    }\n  };\n\n  choosePicture(article.class);\n\n  return (\n    <article\n      className={`basic, ${article.class}`}\n      style={{ backgroundImage: `url(${picture})` }}\n    >\n      <h3>{article.title}</h3>\n      <p>{article.text}</p>\n      <a href={article.url} target=\"blank\" className=\"btn\">\n        Learn more\n      </a>\n    </article>\n  );\n}\n","/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/SidebarOffersCards.jsx",[],"/home/dci/UIBasics/dbs/flights/Flight-Search/frontend/src/components/MainResultsCards.jsx",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":10,"column":3,"nodeType":"81","messageId":"82","endLine":10,"endColumn":10},{"ruleId":"83","severity":1,"message":"84","line":57,"column":6,"nodeType":"85","endLine":57,"endColumn":8,"suggestions":"86"},{"ruleId":"87","severity":1,"message":"88","line":43,"column":41,"nodeType":"89","messageId":"90","endLine":43,"endColumn":43},{"ruleId":"83","severity":1,"message":"91","line":70,"column":6,"nodeType":"85","endLine":70,"endColumn":14,"suggestions":"92"},{"ruleId":"79","severity":1,"message":"93","line":7,"column":77,"nodeType":"81","messageId":"82","endLine":7,"endColumn":96},{"ruleId":"79","severity":1,"message":"94","line":8,"column":10,"nodeType":"81","messageId":"82","endLine":8,"endColumn":18},{"ruleId":"83","severity":1,"message":"84","line":34,"column":6,"nodeType":"85","endLine":34,"endColumn":8,"suggestions":"95"},{"ruleId":"83","severity":1,"message":"96","line":38,"column":6,"nodeType":"85","endLine":38,"endColumn":27,"suggestions":"97"},{"ruleId":"83","severity":1,"message":"98","line":49,"column":6,"nodeType":"85","endLine":49,"endColumn":19,"suggestions":"99"},{"ruleId":"79","severity":1,"message":"100","line":2,"column":10,"nodeType":"81","messageId":"82","endLine":2,"endColumn":16},"no-native-reassign",["101"],"no-negated-in-lhs",["102"],"no-unused-vars","'Spinner' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setOutOfService'. Either include it or remove the dependency array.","ArrayExpression",["103"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'results' and 'setResultsToBeFiltered'. Either include them or remove the dependency array.",["104"],"'resultsToBeFiltered' is assigned a value but never used.","'setStops' is assigned a value but never used.",["105"],"React Hook useEffect has a missing dependency: 'setFilter'. Either include it or remove the dependency array.",["106"],"React Hook useEffect has a missing dependency: 'setResultsToBeFiltered'. Either include it or remove the dependency array.",["107"],"'Button' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},{"desc":"108","fix":"112"},{"desc":"113","fix":"114"},{"desc":"115","fix":"116"},"Update the dependencies array to be: [setOutOfService]",{"range":"117","text":"118"},"Update the dependencies array to be: [filter, results, setResultsToBeFiltered]",{"range":"119","text":"120"},{"range":"121","text":"118"},"Update the dependencies array to be: [price, selectedComp, setFilter]",{"range":"122","text":"123"},"Update the dependencies array to be: [cleanFilter, setResultsToBeFiltered]",{"range":"124","text":"125"},[1452,1454],"[setOutOfService]",[2077,2085],"[filter, results, setResultsToBeFiltered]",[1134,1136],[1205,1226],"[price, selectedComp, setFilter]",[1488,1501],"[cleanFilter, setResultsToBeFiltered]"]